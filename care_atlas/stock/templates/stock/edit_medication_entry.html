{% extends 'stock/stock_base.html' %}
{% block content %}
    <!-- Modal 1-->
    <div class="modal fade modal-dialog-scrollable modal-lg" id="edit_medication" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content bg-body-secondary">
            <div class="modal-header">
                <h1 class="modal-title fs-5 text-primary fw-bold" id="exampleModalLabel">Edit Medication</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form method="POST" action="" class="mx-5">
                {% csrf_token %}
                <div class="row mb-3">
                    <label for="" class="col-sm-2 col-form-label fw-semibold">Name</label>
                    <div class="col-sm-10">
                    <input type="text" class="form-control" id="" name="name" value="{{medication.name}}" required>
                    </div>
                </div>
                <div class="row mb-3">
                    <label for="" class="col-sm-2 col-form-label fw-semibold">Brand</label>
                    <div class="col-sm-10">
                    <input type="text" class="form-control" id="" name="brand" value="{{medication.brand}}">
                    </div>
                </div>
                <div class="row mb-3">
                    <label for="" class="col-sm-2 col-form-label fw-semibold">Formulation</label>
                    <div class="col-sm-8">
                    <select id="" class="form-select" name="formulation" required>
                        <option value="{{medication.formulation}}">{{medication.formulation}}</option>
                        <option>Tablets</option>
                        <option>Capsules</option>
                        <option>Syrup</option>
                        <option>Cream</option>
                        <option>Drops</option>
                        <option>Injectable</option>
                        <option>Lozenge</option>
                        <option>Pessary</option>
                    </select>
                    </div>
                </div>
                <div class="row mb-3">
                    <label for="bp_sys" class="col-sm-2 col-form-label fw-semibold">Strength</label>
                    <div class="col-sm-4">
                    <input type="number" class="form-control" id="" name="strength" value="{{medication.strength_value}}" required>
                    </div>
                    <div class="col-sm-1"></div>
                    <label for="" class="col-sm-2 col-form-label fw-semibold">Units</label>
                    <div class="col-sm-3">
                    <select id="" class="form-select" name="units" required>
                        <option value="{{medication.strength_value_units}}">{{medication.strength_value_units}}</option>
                        <option >mg</option>
                        <option>g</option>
                        <option>ml</option>
                    </select>
                    </div>
                </div>
                <div class="d-flex justify-content-center">
                <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary ms-2">Save</button>
                </div>
                </form>
            </div>
            </div>
        </div>
    </div>
    <!-- end model 1 -->


    <!-- Modal 2-->
    <div class="modal fade modal-dialog-scrollable modal-lg" id="add_quantity" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content bg-body-secondary">
            <div class="modal-header">
                <h1 class="modal-title fs-5 text-primary fw-bold" id="exampleModalLabel">Add New Quantity in Stock</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form method="POST" action="{% url 'update-quantity' medication.id%}" class="mx-5">
                {% csrf_token %}
                <div class="row mb-3">
                    <label for="" class="col-sm-2 col-form-label fw-semibold">New Quantity</label>
                    <div class="col-sm-10">
                    <input type="number" class="form-control" id="" name="quantity" value="" required>
                    </div>
                </div>
                <div class="d-flex justify-content-center">
                <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancel</button>
                <button type="submit" class="btn btn-primary ms-2">Save</button>
                </div>
                </form>
            </div>
            </div>
        </div>
    </div>
    <!-- end model 2 -->

    <div class="row mx-auto">
        <div class="col-2 mt-5"><a class="btn btn-primary col fw-semibold mx-4 shadow-lg fs-4" href="{% url 'medication-list' %}">Back to Stock</a></div>

        
        <div class="row col mt-5 mx-auto p-4 bg-light rounded-3">

            <div class="col-6">
                <ul class="">
                    <li class="list-group-item fs-1 fw-semibold text-primary">{{medication.name}} <i class="bi bi-capsule"></i></li>
                    <li class="list-group-item fs-2 fw-medium">Brand: <span class="text-primary">{{medication.brand}}</span></li>
                    <li class="list-group-item fs-2 fw-medium">Formulation: <span class="text-primary">{{medication.formulation}}</span></li>
                    <li class="list-group-item fs-2 fw-medium">{{medication.strength_value}} {{medication.strength_value_units}} <i class="bi bi-prescription text-primary"></i></li>
                    <li class="list-group-item fs-2 fw-medium">Quantity in Stock <i class="bi bi-box2-fill text-primary"></i> : <span class="text-primary">{{medication.quantity}}</span></li>
                </ul>
            </div>
            <div class="col mx-auto"><button type="button" class="btn text-primary fs-3 px-5 fw-bold" data-bs-toggle="modal" data-bs-target="#edit_medication"><i class="bi bi-plus-square-fill me-2 text-black fs-4"></i>Edit Medication</button></div>
    </div>
    </div>

    <div class="w-25 mx-auto mt-5">
        <button type="button" class=" btn text-primary fs-1 px-5 fw-bold" data-bs-toggle="modal" data-bs-target="#add_quantity"><i class="bi bi-plus-square-fill me-2 text-black fs-4"></i>New Batch</button>
    </div>
{% endblock content %}